\chapter{Rappresentazioni}
Poich\'e i risultati possibili delle misure di osservabili sono gli autovalori dell'operatore associato, è di fondamentale importanza nella meccanica quantistica saper ricavare lo spettro degli operatori.
Gli autovalori più ``importanti'' sono quelli di energia, che formano lo spettro dell'operatore hamiltoniano: dobbiamo quindi risolvere l'\emph{equazione agli autovalori}
\begin{equation}
	\op H\ket{E}=E\ket{E}.
	\label{eq:equazione-autovalori-hamiltoniano}
\end{equation}

Cos\`i come in algebra lineare, per agevolare i calcoli, si è soliti fissare una base e trasformare i vettori di $\R^n$ alle $n$-uple di numeri reali, anche in questo caso conviene passare da una trattazione generica di stati e operatori ad un formalismo più pratico per i calcoli.
Anche in questo caso troviamo degli isomorfismi che trasformano lo spazio degli stati in spazi di Hilberti più comodi: questi isomorfismi sono detti \emph{rappresentazioni}.
Tra le varie rappresentazioni, vedremo quella di Heisenberg e quella di Schr\"odinger.

\section{Rappresentazione di Heisenberg}
Prendiamo un insieme completo ortonormale $\{\ket{i}\}_{i\in\N}$, che forma quindi una base per lo spazio degli stati: possiamo pensare a questa base come al sistema completo di autostati di un'osservabile non degenere.
Abbiamo già visto che si può rappresentare uno stato qualsiasi $\ket{x}$ nei termini di questa base, tramite le proiezioni sui suoi elementi:
\begin{equation}
	\ket{x}=\ser{i}\ket{i}\braket{i}{x}=\ser{i}x_i\ket{i}.
	\label{eq:rappresentazione-stato-heisenberg}
\end{equation}
Il braket $\braket{i}{x}$ fornisce quindi il coefficiente dell'$i$-esimo stato della base.
Il prodotto scalare è dato come, sempre inserendo l'operatore identità,
\begin{equation}
	\braket{x}{y}=\bra{x}\Big(\ser{i}\ket{i}\bra{i}\Big)\ket{y}=\ser{i}\braket{x}{i}\braket{i}{y}=\ser{i}\braket{i}{x}^*\braket{i}{y}=\ser{i}x_i^*y_i
	\label{eq:prodotto-scalare}
\end{equation}
e la norma di uno stato (al quadrato)
\begin{equation}
	\braket{x}{x}=\ser{i}x_i^*x_i=\ser{i}\abs{x_i}^2.
	\label{eq:norma-stato}
\end{equation}
Gli stati $\ket{x}$ e $\ket{y}$ chiaramente esistono e hanno un loro significato indipendentemente dalla base in cui li rappresentiamo.
Con queste associazioni, però, fissata una base possiamo identificare qualsiasi stato tramite i suoi coefficienti $x_i$ che appaiono nella \eqref{eq:rappresentazione-stato-heisenberg}: l'insieme ordinato $\{x_i\}_{i\in\N}$ forma dunque una successione, o un vettore colonna di infinite componenti.
Abbiamo però un ulteriore vincolo, ossia la limitatezza della norma di uno stato: $\braket{x}{x}<+\infty$.
Dunque avremo che
\begin{equation}
	\ser{i}\abs{x_i}^2<+\infty
	\label{eq:successione-quadrato-sommabile}
\end{equation}
ossia la successione $\{x_i\}$ è a \emph{quadrato sommabile}.

Abbiamo trovato dunque un isomorfismo tra lo spazio degli stati e lo spazio delle successioni complesse a quadrato sommabile, che si indica con $\ell^2(\C)$, anch'esso ovviamente uno spazio di Hilbert.
Questo isomorfismo non è canonico, nel senso che è possibile farlo solo tramite la scelta di una base: perciò è sbagliato affermare che la successione $\{x_i\}$ \emph{è} lo stato $\ket{x}$, ma è corretto dire che la successione \emph{rappresenta} lo stato (in una certa base).
Questo isomorfismo è la \emph{rappresentazione di Heisenberg}.

Fissata la rappresentazione degli stati, dobbiamo vedere ora come rappresentare gli operatori: anche qui, l'espressione $\ket{y}=\op A\ket{x}$ non necessita della scelta di una base.
Prendiamo la base $\{\ket{i}\}_{i\in\N}$: per trovare la $i$-esima componente, in questa base, di $\ket{y}$, moltiplichiamo a sinistra i membri per il bra fondamentale $\bra{i}$, ottenendo
\begin{equation}
	\braket{i}{y}=y_i=\bra{i}\op A\ket{x}.
\end{equation}
Introducendo la risoluzione dell'identità tra $\op A$ e $\ket{x}$ troviamo dunque
\begin{equation}
	y_i=\bra{i}\op A\Big(\ser{j}\ket{j}\bra{j}\Big)\ket{x}=\ser{j}\bra{i}\op A\ket{j}\braket{j}{x}=\ser{j}\bra{i}\op A\ket{j}x_j.
	\label{eq:rappresentazione-operatore-matrice}
\end{equation}
Vediamo quindi che l'azione di $\op A$ sullo stato $\ket{x}$ si esprime tramite gli elementi $\bra{i}\op A\ket{j}\defeq A_{ij}$, che sono dei numeri complessi con un doppio indice: chiaramente questi indicano una matrice (di dimensioni infinite). 
L'applicazione dell'operatore $\op A$ allo stato $\ket{x}$ si rappresenta dunque come il prodotto riga per colonna tra la matrice rappresentativa di $\op A$ e il vettore/successione rappresentativo di $\ket{x}$.
Dato un altro operatore $\op B$, il prodotto $\op A\op B$ è rappresentato dalla matrice di componenti $(AB)_{ij}=\bra{i}\op A\op B\ket{j}$, e vediamo che
\begin{equation}
	(AB)_{ij}=\bra{i}\op A\op B\ket{j}=\bra{i}\op A\ser{k}\ket{k}\bra{k}\op B\ket{j}=\ser{k}\bra{i}\op A\ket{k}\bra{k}\op B\ket{j}=\ser{k}A_{ik}B_{kj}
	\label{eq:prodotto-operatori-matrici}
\end{equation}
che è proprio il prodotto riga per colonna delle due matrici rappresentative.
L'aggiunto dell'operatore inoltre è tale che $\bra{i}\adj{\op A}\ket{j}=\bra{j}\op A\ket{i}^*$, cioè $(\adj A)_{ij}=A_{ji}^*$: la matrice rappresentativa dell'aggiunto è la trasposta coniugata di $A$.

Chiarito dunque come si rappresentano stati e operatori, torniamo all'equazione agli autovalori vista all'inizio del capitolo: nella rappresentazione di Heisenberg che abbiamo visto, il metodo più conveniente per risolverla è esprimerla in una base di autostati dell'operatore coinvolto.
Se prendiamo un'osservabile $\xi$ non degenere e i suoi autostati $\{\ket{\xi_i}\}$, che prendiamo normalizzati, abbiamo che
\begin{equation}
	\bra{\xi_i}\op\xi\ket{\xi_j}=\xi_j\braket{\xi_i}{\xi_j}=\xi_j\delta_{ij}
\end{equation}
quindi la matrice rappresentativa è diagonale.

Per la non degenerazione dell'osservabile, ad ogni autovalore corrisponde un solo autovettore, a meno di costanti scalari: questo però non è un problema se ricordiamo che ad uno stato fisico corrisponde un \emph{raggio} nello spazio dei ket, quindi l'autovettore e i suoi multipli rappresentano in realtà lo stesso stato fisico.
La normalizzazione degli autostati già risolve parzialmente questo problema, ma lo stato $\ket{\xi_i}$ e $e^{i\phi_i}\ket{\xi_i}$ rappresentano lo stesso stato fisico e hanno entrambi norma unitaria, di conseguenza c'è ancora una certa arbitrarietà, nella scelta di queste fasi $\phi_i$.
In ogni caso, se al posto di $\ket{\xi_i}$ e $\ket{\xi_j}$ prendiamo gli stati $\ket{\xi_i'}=e^{i\phi_i}\ket{\xi_i}$ e $\ket{\xi_j'}=e^{i\phi_j}\ket{\xi_j}$ troviamo
\begin{equation}
	\braket{\xi_i'}{\xi_j'}=e^{-i\phi_i}\bra{\xi_i}e^{i\phi_j}\ket{\xi_j}=e^{i(\phi_j-\phi_i)}\braket{\xi_i}{\xi_j}=e^{i(\phi_j-\phi_i)}\delta_{ij}
\end{equation}
quindi sono ancora ortonormali: se $i=j$ le fasi si cancellano, mentre se $i\ne j$ si ha $e^{i(\phi_j-\phi_i)}\ne 1$ ma $\delta_{ij}=0$ quindi è comunque nullo.

Se l'osservabile invece è degenere, la scelta di un sistema ortonormale completo di autostati non è più univocamente determinata (a meno di fattori scalari), perch\'e ad ogni autovalore possono corrispondere anche più autostati linearmente indipendenti.
Prendiamo un autovalore degenere $\xi_0$ dell'osservabile $\xi$: se scriviamo la matrice rappresentativa di $\op\xi$ nella base di autostati, l'autospazio $\hilbert_0$ di tale autovalore è lasciato invariato dall'operatore, di conseguenza il blocco di matrice relativo all'autovalore $\xi_0$ è un multiplo dell'identità, e ha dimensione pari al grado di degenerazione dell'autovalore.
La matrice rappresentativa è quindi una matrice a blocchi.
Se prendiamo ora un'osservabile $\eta$ compatibile con $\xi$, le due condividono una base di autostati, perciò possiamo cambiare base in quest'ultima.
In generale, la matrice di $\xi$ anche in questo caso sarà ancora a blocchi: ma lo è anche quella di $\eta$, perch\'e sono compatibili.
Quindi, se $\xi$ è rappresentata da una matrice diagonale, ossia in cui tutti i blocchi hanno dimensione 1, allora anche la matrice di $\eta$ è diagonale.

Aggiungendo altre osservabili compatibili a $\xi$ fino a raggiungere un sistema completo di osservabili, si giunge infine ad una base di autostati ben determinata (senza ``libertà di scelta'' tra autostati linearmente indipendenti in un autospazio) di conseguenza la matrice rappresentativa sarà finalmente diagonale.

Questa rappresentazione di Heisenberg risulta forse familiare, perch\'e le successioni di $\ell^2(\C)$ possono sembrare una naturale estensione dei vettori di numeri complessi.
In realtà l'uso è poco pratico, perch\'e individuare gli autovalori è generalmente difficile: l'equazione $\op H\ket{x}=E\ket{x}$ si rappresenta come
\begin{equation}
	\ser{m}H_{nm}x_m=Ex_n\quad\then\quad\ser{m}(H_{nm}-E\delta_{nm})x_m=0
\end{equation}
che è un sistema lineare.
Il problema è che questo sistema ha un numero infinito di equazioni!
Ulteriormente, gli autovalori $E$ si ricavano imponendo $\det(H-E\id)=0$, ma un determinante di dimensione infinita (e di conseguenza un polinomio di grado infinito) semplicemente non esiste: dobbiamo quindi ricercare un metodo più astratto di calcolarli.
Inoltre, posizione e impulso sono osservabili particolari: sappiamo che sono impossibili da determinare con infinita precisione, per il principio di Heisenberg; gli autovalori di $\op q$ o $\op p$ meritano quindi una discussione particolare, soprattutto perch\'e tutte le altre osservabili si possono costruire come funzioni di queste due.

\section{Operatori di traslazione}
Costruiamo dall'operatore di impulso $\op p$ l'operatore
\begin{equation}
	\op T(z)=\exp\Big(-\frac{i}{\hbar}\op p z\Big)=\serz{n}\frac1{n!}\Big(-\frac{i}{\hbar}\op p z\Big)^k
	\label{eq:operatore-traslazione}
\end{equation}
in dipendenza dal parametro $z\in\R$.
Verifichiamo subito una sua importante proprietà, ossia\footnote{Se $A$ e $B$ non commutano, non è detto che $e^Ae^B=e^{A+B}$, ma deve essere usata la più generale formula di Baker-Campbell-Hausdorff. In questo caso, i due operatori chiaramente commutano quindi l'operazione è lecita.}
\begin{equation}
	\adj{\op T}(z)\op T(z)=\exp\Big(\frac{i}{\hbar}\op pz\Big)\exp\Big(-\frac{i}{\hbar}\op pz\Big)=\exp(\op 0)=\op 1
	\label{eq:unitarieta-traslazione}
\end{equation}
e analogamente $\op T(z)\adj{\op T}(z)=\op 1$: dunque $\op T(z)$ (indipendente dal parametro $z$) è un operatore unitario, e preserva il prodotto scalare.\footnote{Più in generale, è vero che se $\op K$ è antihermitiano allora il suo esponenziale $\exp\op K$ è unitario, con una dimostrazione analoga a questa (gli operatori antihermitiani sono sempre operatori normali, quindi commutano con il loro aggiunto). In questo caso, l'operatore antihermitiano, a meno di altre costanti, è $i\op p$, dato che $\op p$ è hermitiano.} 

Ammettiamo ora che esista un autostato dell'operatore posizione, che chiamiamo $\ket{q}$, tale che $\op q\ket{q}=q\ket{q}$.
Vogliamo vedere come l'operatore $\op T$ modifica questo stato, ossia calcoliamo $\op q\op T(z)\ket{q}$.
Non conoscendo l'effetto di $\op T(z)$ su tale stato, scambiamo l'ordine degli operatori scrivendo $\op q\op T(z)=\op q\op T(z)+\op T(z)\op q-\op T(z)\op q=[\op q,\op T(z)]+\op T(z)\op q$.
Il commutatore che abbiamo ricavato vale
\begin{equation}
	\begin{split}
		[\op q,\op T(z)]&=\Big[\op q,\serz{n}\frac1{n!}\Big(-\frac{i}{\hbar}\op pz\Big)^n\Big]=\\
		&=\serz{n}\frac1{n!}\Big[\op q,\Big(-\frac{i}{\hbar}\op pz\Big)^n\Big]=\\
		&=\serz{n}\frac1{n!}\Big(-\frac{iz}{\hbar}\Big)^n[\op q,\op p^n]=\\
		&=\serz{n}\frac1{n!}\Big(-\frac{iz}{\hbar}\Big)^ni\hbar n\op p^{n-1}=\\
		&=z\ser{n}\frac1{(n-1)!}\Big(-\frac{iz}{\hbar}\Big)^{n-1}\hbar\op p^{n-1}=\\
		&=z\serz{k}\frac1{k!}\Big(-\frac{iz}{\hbar}\Big)^ki\hbar \op p^k=\\
		&=z\op T(z).
	\end{split}
	\label{eq:commutatore-posizione-traslazione}
\end{equation}
Di conseguenza risulta
\begin{equation}
	\op q\op T(z)\ket{q}=(z\op T(z)+\op T(z)\op q)\ket{q}=z\op T(z)\ket{q}+\op T(z)q\ket{q}=(z+q)\op T(z)\ket{q},
\end{equation}
ossia il nuovo stato $\op T(z)\ket{q}$ è ancora un autostato di $\op q$, ma con autovalore $q+z$: $\op T(z)$ dunque \emph{trasla} gli autostati di $\op q$ di un fattore $z$.
Solitamente, indicando l'autovalore direttamente nel ket, questo si scrive come $\op T(z)\ket{q}=\ket{q+z}$.
L'operatore $\op T$ cos\`i definito è a tutti gli effetti un \emph{operatore di traslazione}, e infatti l'impulso (a cui abbiamo applicato una funzione esponenziale) è proprio il generatore delle traslazioni.

Questo risultato però ci porta ad un grave problema: poich\'e non c'è alcun vincolo sulla lunghezza $z$ della traslazione, che può essere un qualsiasi numero reale, abbiamo trovato che se esiste un autostato $\ket{q}$ di $\op q$ allora ne esiste un'\emph{infinità non numerabile}, poich\'e anche $\ket{q+z}$ è un autostato e $z\in\R$ qualunque!
Questo è in contraddizione con la struttura dello spazio degli stati, che è uno spazio di Hilbert \emph{separabile}: di conseguenza, non possono esistere autostati di $\op q$.
Lo stesso si può dire di $\op p$, con una costruzione analoga.
Nella prossima sezione vedremo come risolvere questo problema, analizzando più a fondo questi due particolari operatori.

\section{Operatori posizione e impulso}
Abbiamo dunque visto tramite un operatore di traslazione che $\op q$ (cos\`i come $\op p$) non può ammettere autostati.
Ciò potrebbe sembrare un grave problema, dal momento che è su questi due operatori che si costruiscono tutte le osservabili, ma nasconde in realtà un concetto diverso.

Se assumiamo di poter scrivere equazioni come $\op q\ket{q}=q\ket{q}$, stiamo ammettendo che $\op q$ possiede uno \emph{spettro continuo}.
Ricordiamo il principio di indeterminazione di Heisenberg, che afferma che il prodotto delle indeterminazioni di posizione e impulso è
\begin{equation}
	\Delta q\Delta p\geq\frac{\hbar}2.
\end{equation}
Da esso ricaviamo che è impossibile sapere con assoluta precisione la posizione o l'impulso del sistema in esame.
Di conseguenza dire che $\op q$ o $\op p$ hanno degli autovalori significherebbe ammettere che dopo una misura sul sistema possiamo conoscere con infinita precisione il valore della posizione o dell'impulso.
Dovrebbe essere ormai chiaro che una situazione del genere è impossibile, pertanto degli operatori con queste proprietà non hanno senso fisico.
Vediamo come possiamo risolvere il problema.

Quando misuriamo una posizione, quello che possiamo sapere è in realtà soltanto se la particella (o chi per essa) si trovi entro un certo intervallo di spazio, più o meno preciso.
Matematicamente, se diciamo che la particella è in $x$ stiamo in verità affermando che essa si trova nell'intervallo $[x-\Delta x, x+\Delta x]$ per un certo $\Delta x$: questa ampiezza $\Delta x$ indica la precisione della misura effettuata, ma per quanto detto tale $\Delta x$ non potrà mai essere zero.
Un'osservabile che restituisca questo tipo di risultato è assolutamente lecita: se lo strumento ha una sensibilità di $2\epsilon$ (fissata: possiamo prenderla quanto piccola vogliamo, ma mai tendente a zero), possiamo partizionare l'asse reale in tanti intervalli di ampiezza $\epsilon$, ossia in $(2n\epsilon-\epsilon,2n\epsilon+\epsilon]\equiv \big((2n-1)\epsilon,(2n+1)\epsilon\big]$, con $n\in\Z$.
L'insieme di questi intervalli è ovviamente numerabile, e la loro unione per tutti gli $n\in\Z$ ricopre tutto l'asse reale.
L'atto della misura consiste nel determinare in quale di questi intervalli si trova la particella: possiamo indicare ogni intervallo con il suo centro $q_n\defeq 2n\epsilon$, e con questo indicare il risultato della misura, ossia gli autovalori della posizione.
Possiamo quindi definire un operatore $\op q_\epsilon$ i cui autovalori sono questi $q_n$, ossia se otteniamo $\op q_\epsilon\ket{x}=q_n\ket{x}$ significa che la particella al momento della misura si trova nell'intervallo $[q_n-\epsilon,q_n+\epsilon]$.
Questi autovalori formano uno spettro discreto, e a questo operatore possiamo applicare tutte le regole già studiate senza alcun problema di definizione.
Sebbene questo operatore rispecchi fedelmente la realtà, però, è evidente che diventa scomodissimo non appena bisogna usarlo nei calcoli.
Oltretutto, esisterebbero infiniti operatori rappresentanti la posizione, uno per ogni valore della sensibilità $\epsilon$ assegnabile!

Cosa rappresenta dunque il ``vero'' operatore posizione?
Possiamo vederlo come un limite dell'operatore $\op q_\epsilon$ che abbiamo introdotto per una precisione sempre più piccola, cioè per $\epsilon\to 0$.
Questo passaggio al limite è però soltanto un'astrazione matematica, non rappresenta qualcosa di reale, di ``fisico''.
Tutto il discorso svolto fino a questo punto vale, ovviamente, anche per l'operatore impulso.
Tenendo ciò in mente possiamo riportare al caso continuo i risultati ottenuti finora nel caso discreto, e procedere con essi.
Accettiamo, dunque, \emph{con riserva} l'esistenza di questi operatori posizione e impulso con spettro continuo.

\section{Rappresentazione di Schr\"odinger}
Nel caso di uno spettro discreto possiamo \emph{contare} gli elementi della base di autostati, perch\'e è un insieme numerabile: pertanto preso uno stato $\ket{A}$ e una base $\{\ket{n}\}_{n\in\N}$ possiamo associare ad ogni numero naturale un numero complesso, che è il coefficiente dell'elemento $n$-esimo della base.
Otteniamo, come già visto, una successione $\{a_n\}$ definita da $a_n=\braket{n}{A}$.
La risoluzione dell'identità $\ser{n}\ket{n}\bra{n}=\op 1$ permette di ``ricostruire'' lo stato con l'operazione $\ket{A}=\ser{n}\ket{n}\braket{n}{A}=\ser{n}a_n\ket{n}$.
Nel caso di uno spettro continuo, troviamo invece una base non numerabile di autostati, che possiamo perciò porre in corrispondenza (almeno nel caso unidimensionale) con un numero reale.
Se $\{\ket{q}\colon q\in\R\}$ è la base di autostati della posizione, associamo dunque al prodotto scalare $\braket{q}{A}$ un numero dell'asse reale: stiamo definendo quindi una funzione
\begin{equation}
	\braket{q}{A}=a(q).
\end{equation}
Questa funzione $a(q)$ è ciò che è comunemente chiamata \emph{funzione d'onda} dello stato $\ket{A}$: solitamente la indicheremo con $\psi_A(q)$.
Cos\`i come si moltiplica per $\bra{q}$ si può prendere anche una base di autostati dell'impulso $\{\ket{p}\colon p\in\R\}$ e definire una \emph{funzione d'onda degli impulsi}	$\braket{p}{A}=\tilde{\psi}_A(p)$; qui la notazione per distinguere i due tipi di funzioni d'onda non è universale, ma si dovrebbe riuscire sempre a distinguere le due funzioni guardando alla variabile, $q$ o $p$.

La risoluzione dell'identità si riscrive, passando da una somma discreta a una \emph{somma continua}, ossia a un integrale su $\R$, come
\begin{equation}
	\int_\R\ket{q}\bra{q}\dd q=\op 1
	\label{eq:risoluzione-identita-continua}
\end{equation}
per cui possiamo scrivere lo stato $\ket{A}$ come sovrapposizione degli autostati $\ket{q}$ con
\begin{equation}
	\ket{A}=\int_\R\ket{q}\braket{q}{A}\dd q=\int_\R\psi_A(q)\ket{q}\dd q
	\label{eq:sovrapposizione-stati-continuo}
\end{equation}
e il prodotto scalare come
\begin{equation}
	\braket{B}{A}=\int_\R\braket{B}{q}\braket{q}{A}\dd q=\int_\R\psi_B^*(q)\psi_A(q)\,\dd q.
	\label{eq:prodotto-scalare-continuo}
\end{equation}
La norma di uno stato è allora
\begin{equation}
	\braket{A}{A}=\int_\R\braket{A}{q}\braket{q}{A}\dd q=\int_\R\psi_A^*(q)\psi_A(q)\,\dd q=\int_\R\abs{\psi_A(q)}^2\,\dd q.
	\label{eq:norma-stato-continuo}
\end{equation}
La condizione che la norma sia limitata rimane anche in questo caso; con questo la funzione d'onda, sia della posizione che dell'impulso, è una funzione \emph{a quadrato sommabile}, cioè appartiene allo spazio $L^2(\R)$.
Abbiamo individuato dunque un isomorfismo tra lo spazio degli stati e lo spazio di Hilbert $L^2(\R)$: esso è la \emph{rappresentazione di Schr\"odinger}.

Per quanto riguarda la normalizzazione degli \emph{autostati}, invece, dobbiamo adottare una convenzione più particolare.
Se definissimo
\begin{equation}
	\braket{q}{q'}=
	\begin{cases*}
		1& se $q=q'$\\ 0& se $q\ne q'$
	\end{cases*}
\end{equation}
i risultati trovati sopra non sarebbero più validi.
Definiamo invece la condizione con quello che piò essere visto come un analogo continuo della delta di Kronecker, ossia la delta di Dirac:
\begin{equation}
	\braket{q}{q'}=\delta(q-q'),\qquad\braket{p}{p'}=\delta(p-p').
	\label{eq:normalizzazione-autostati-continui}
\end{equation}
Finch\'e $q\ne q'$ o $p\ne p'$, tutto è a posto perch\'e gli autostati risultano ancora ortogonali.
Il problema è che la norma di un autostato diventa in questo modo $\braket{q}{q}=\delta(q-q)=\delta(0)=+\infty$.
La spiegazione a ciò è che gli autostati di osservabili continue \emph{non sono fisici}, in quanto è impossibile definire uno stato in cui posizione o impulso sono perfettamente determinati: come per gli operatori, sono soltanto un'utile astrazione matematica.
Tutti gli autostati \emph{realistici} di posizione e momento avranno sempre norma finita.
Notiamo infine che $\delta(q-q')$ è anche la funzione d'onda $\psi(q)$ dell'autostato $\ket{q'}$.

Ora che abbiamo visto come rappresentare gli stati, passiamo agli operatori.
Chiaramente la loro rappresentazione è diversa a seconda della base scelta: per la fondamentale importanza che rivestono $\op q$ e $\op p$, studieremo come operano gli operatori sulle funzioni d'onda in entrambi i casi.

\subsection{Rappresentazione nelle coordinate}
Nella rappresentazione delle coordinate si usa la base di autostati $\ket{q}$ della posizione per descrivere gli stati: l'operatore posizione sarà quindi diagonale, ossia
\begin{equation}
	\op q\ket{q'}=q'\ket{q'}.
	\label{eq:posizione-diagonale}
\end{equation}
Otteniamo la rappresentazione di questo operatore su uno stato $\ket{A}$ moltiplicando a sinistra per $\bra{q}$: risulta $\bra{q}\op q=q\bra{q}$, perciò
\begin{equation}
	\bra{q}\op q\ket{A}=q\braket{q}{A}=q\psi_A(q).
	\label{eq:rappresentazione-posizione-diagonale}
\end{equation}
L'operatore inoltre è hermitiano, perch\'e
\begin{equation}
	\bra{B}\op q\ket{A}^*=\bigg(\int_\R\psi_B^*(q)q\psi_A(q)\,\dd q\bigg)^*=\int_\R\psi_B(q)q\psi_A^*(q)\,\dd q=\bra{A}\op q\ket{B}
	\label{eq:posizione-hermitiano}
\end{equation}
Il valore di aspettazione di $\op q$ su uno stato $\ket{A}$ (normalizzato) è dato da
\begin{equation}
	\bra{A}\op q\ket{A}=\int_{-\infty}^{+\infty}\psi_A^*(q)q\psi_A(q)\,\dd q=\int_{-\infty}^{+\infty}q\abs{\psi_A(q)}^2\,\dd q,
	\label{eq:valor-medio-posizione}
\end{equation}
e in generale per funzioni solamente di tale operatore si ha, in via analoga,
\begin{equation}
	\bra{A}f(\op q)\ket{A}=\int_{-\infty}^{+\infty}f(q)\abs{\psi_A(q)}^2\,\dd q
\end{equation}
che corrisponde, matematicamente, al valore medio di $f$ secondo una distribuzione di probabilità la cui funzione di densità è $\abs{\psi_A}^2$ (se $\psi_A$ è normalizzata).
Da sola, quindi, il modulo quadro della funzione d'onda $\abs{\psi(q)}^2$ nella base delle coordinate rappresenta la (densità di) probabilità di trovare la particella nel punto $q$.

Vediamo come rappresentare l'impulso: sappiamo che l'operatore di traslazione equivale a $\op T(x)=\exp\big(-\frac{i}{\hbar}\op px\big)$.
Per una traslazione infinitesima, possiamo sviluppare in serie di Taylor di $x$ l'operatore ottenendo $\op T(x)=\op 1-\frac{i}{\hbar}\op px+o(x)$.
Nella base della posizione, esso agisce su uno stato $\ket{A}$ come $\bra{q}\op T(x)\ket{A}=\braket{q-x}{A}$ che a sua volta può essere sviluppata come $\braket{q}{A}-x\drv{}{q}\braket{q}{A}+o(x)$.
Passando ancora alla base delle coordinate e uguagliando le due espressioni, otteniamo
\begin{equation}
	\braket{q}{A}-\frac{ix}{\hbar}\bra{q}\op p\ket{A}=\braket{q}{A}-x\drv{}{q}\braket{q}{A}
\end{equation}
da cui, semplificando,
\begin{equation}
	\bra{q}\op p\ket{A}=-i\hbar\drv{}{q}\braket{q}{A}
\end{equation}
che è la rappresentazione dell'operatore impulso.
Anch'esso è hermitiano: supponendo le funzioni d'onda $\braket{q}{A}$ e $\braket{q}{B}$ sufficientemente differenziabili in modo da poter integrare per parti,
\begin{equation}
	\begin{split}
		\bra{B}\op p\ket{A}^*&=\bigg[\int_{-\infty}^{+\infty}-i\hbar\drv{\psi_A}{q}\psi_B^*(q)\,\dd q\bigg]^*=\\
		&=\bigg[-i\hbar\psi_A(q)\psi_B^*(q)\Big|_{-\infty}^{+\infty}+i\hbar\int_{-\infty}^{+\infty}\psi_A(q)\drv{\psi_B^*}{q}(q)\,\dd q\bigg]^*=\\
		&=-i\hbar\int_{-\infty}^{+\infty}\psi_A^*(q)\drv{\psi_B}{q}(q)\,\dd q=\bra{A}\op p\ket{B},
	\end{split}
\end{equation}
dato che $\psi_A,\psi_B\to 0$ per $\abs{q}\to+\infty$, essendo continue e in $L^2(\R)$.

Infine, possiamo ritrovare le relazioni di commutazione anche in questa rappresentazione: scrivendo $[\op q,\op p]\ket{A}$ nella base della posizione, come operatori sulle funzioni d'onda, risulta
\begin{multline}
	\bra{q}[\op q,\op p]\ket{A}=\big[q,-i\hbar\drv{}{q}\big]\psi_A(q)=\big[i\hbar\drv{}{q},q\big]\psi_A(q)=i\hbar\bigg[\drv{}{q}\big[q\psi_A(q)\big]-q\drv{\psi_A}{q}(q)\bigg]=\\
	=i\hbar\big[\psi_A(q)+q\drv{\psi_A}{q}(q)-q\drv{\psi_A}{q}(q)\big]=i\hbar\psi_A(q)
\end{multline}
come ci aspettavamo.
Anche le relazioni $[q,q]=0$ e $[-i\hbar\drv{}{q},-i\hbar\drv{}{q}]=0$ valgono in modo ovvio.
Nel caso di più gradi di libertà, gli operatori di moltiplicazione $q_i$ e di derivazione $\drp{}{q_j}$ commutano, dato che si riferiscono a variabili differenti, mentre se $i=j$ vale quanto detto prima; riassumendo, per gli operatori posizione e impulso in $L^2(\R)$ vale la relazione
\begin{equation}
	\bigg[q_i,-i\hbar\drp{}{q_j}\bigg]=i\hbar\delta_{ij}.
	\label{eq:commutatori-fondamentali-L2}
\end{equation}

Torniamo all'equazione di Schr\"odinger $\op H\ket{E}=E\ket{E}$: una particella soggetta ad un potenziale $V(\vec q)$ ha un'hamiltoniana $H(\vec q,\vec p)=\frac1{2m}\vec p^2+V(\vec q)$, a cui è associato l'operatore $\op H=\frac1{2m}\sum_{i=1}^3\op p_i^2+V(\op{\vec q})$, dunque risulta
\begin{equation}
	\bra{q}\op H\ket{E}=\bigg[\frac1{2m}\sum_{i=1}^3\bigg(-i\hbar\drp{}{q_i}\bigg)\cdot\bigg(-i\hbar\drp{}{q_i}\bigg)+V(\vec q)\bigg]\braket{q}{E}=E\braket{q}{E}
	\label{eq:hamiltoniano-coordinate}
\end{equation}
da cui ricaviamo l'equazione differenziale alle derivate parziali, del secondo ordine,
\begin{equation}
	\frac{\hbar^2}{2m}\lap\psi_E(\vec q)+\big[E-V(\vec q)\big]\psi_E(\vec q)=0
	\label{eq:schroedinger}
\end{equation}
da risolvere per una soluzione $\psi_E\in L^2(\R^3)$.
Le soluzioni (indipendenti) sono solo due, per ogni valore di $E$, ma non tutte sono accettabili da un punto di vista fisico: in particolare deve essere $\abs{\psi_E(\vec q)}\to 0$ per $\norm{\vec q}\to+\infty$, inoltre solo per alcuni valori di $E$ si avrà che $\psi_E$ è a quadrato sommabile.

\subsection{Rappresentazione nell'impulso}
Analogamente alla precedente è naturale introdurre anche la rappresentazione di Schr\"odinger degli stati nella base di autostati dell'impulso.
Poich\'e questi autostati formano una base di non numerabile, esattamente come quella della posizione, i fondamenti teorici sono esattamente gli stessi: i coefficienti $\braket{p}{A}$ di uno stato rispetto a questa base formeranno ancora una funzione dello spazio $L^2(\R)$ (o l'analogo in più dimensioni), anch'essa chiamata solitamente funzione d'onda.
Cambierà certamente la forma degli operatori su questo spazio, ed è quello di cui ci interessiamo ora.

L'operatore dell'impulso è chiaramente diagonale in questa rappresentazione, dunque detta $\psi_A(p)\defeq\braket{p}{A}$ la funzione d'onda dello stato $\ket{A}$ abbiamo $\bra{p}\op p\ket{A}=p\braket{p}{A}=p\psi_A(p)$.
L'operatore della posizione si trova in modo analogo a quanto fatto in precedenza per l'impulso: dopo aver definito un operatore $\op W(k)\defeq\exp\big(-\frac{i}{\hbar}\op qk\big)$ che trasla l'impulso da $p$ a $p-k$, ossia tale per cui $\op W(b)\ket{p}=\ket{p-k}$, si scrive una traslazione degli impulsi infinitesima sviluppando in serie di Taylor in $k$.\footnote{Notare che in questo caso, nonostante la definizione sia analoga, l'impulso è traslato di $-k$ anzich\'e di $k$ come ci si potrebbe aspettare. Se si ricalca la dimostrazione fatta nel caso delle traslazioni spaziali, ci si trova ad un certo punto con il commutatore $[\op p,\op q^n]$ che vale $-i\hbar n\op q^{n-1}$ (mentre nell'altro caso si aveva $[\op q,\op p^n]=i\hbar n\op p^{n-1}$) di conseguenza $[\op p,\op W(k)]=-k\op W(k)$ con il segno meno.}
Si ottiene cos\`i
\begin{equation}
	\bra{p}\op q\ket{A}=i\hbar\drp{}{p}\braket{p}{A}=i\hbar\drp{}{p}\psi_A(p).
	\label{eq:rappresentazione-posizione-base-impulso}
\end{equation}
Il modulo quadro $\abs{\psi(p)}^2$ rappresenta questa volta la funzione di densità di probabilità di osservabili che dipendono solamente dall'impulso, o da solo la densità di probabilità di misurare un impulso pari a $p$.

Solitamente la rappresentazione nella posizione è la preferita: il problema principale che troveremo è infatti trovare le autofunzioni dell'operatore hamiltoniano in $L^2(\R)$, e solitamente questo operatore è della forma $\frac1{2m}\op p^2+V(\op q)$, in cui si ha il quadrato dell'impulso e un generico potenziale con $\op q$ come variabile.
Nella rappresentazione delle coordinate, il potenziale come operatore in $L^2(\R)$ si scrive semplicemente ``sostituendo'' $\op q$ con la variabile della posizione, mentre si ottengono derivate seconde con l'impulso al quadrato.
Al contrario, nella rappresentazone nell'impulso, il termine $\frac1{2m}\op p^2$ è diagonale, ma troviamo invece una funzione $V\big(i\hbar\drv{}{p}\big)$ che può rivelarsi molto difficile da risolvere.

Infine, è utile studiare come passare da una rappresentazione all'altra, ossia il cambio di base in $L^2(\R)$.
Ci aspettiamo che si svolga tramite un operatore unitario, dato che si troviamo in spazi di Hilbert.
Prendiamo le funzioni d'onda $\psi_A(q)=\braket{q}{A}$ e $\tilde{\psi}_A(p)=\braket{p}{A}$ nelle due rappresentazioni: introducendo la risoluzione dell'identità troviamo
\begin{equation}
	\tilde{\psi}_A(p)=\braket{p}{A}=\int_{-\infty}^{+\infty}\braket{p}{q}\braket{q}{A}\,\dd q=\int_{-\infty}^{+\infty}\braket{p}{q}\psi_A(q)\,\dd q
\end{equation}
dunque l'operatore di cambio di base è un operatore integrale avente la funzione $\braket{p}{q}$ come nucleo.
Possiamo ricavarlo, ad esempio, valutando $\bra{p}\op q\ket{q}$ nelle due rappresentazioni: si ha, dato che $\op q$ è hermitiano,
\begin{equation}
	\begin{gathered}
		\bra{p}\op q\ket{q}=i\hbar\drv{}{p}\braket{p}{q}\\
		\bra{p}\op q\ket{p}=\bra{q}\op q\ket{p}^*=(q\braket{q}{p})^*=q\braket{p}{q}
	\end{gathered}
\end{equation}
dunque uguagliando le due espressioni otteniamo
\begin{equation}
	\drv{}{p}\braket{p}{q}=-\frac{i}{\hbar}q\braket{p}{q}\qqq\braket{p}{q}=ke^{-\frac{i}{\hbar}pq}
	\label{eq:nucleo-operatore-cambio-base-pq}
\end{equation}
per qualche $k\in\C$.
Da $\braket{p}{p'}$ possiamo ricavare la costante arbitraria:
\begin{multline}
	\braket{p}{p'}=\int_{-\infty}^{+\infty}\braket{p}{q}\braket{q}{p'}\,\dd q=
	\int_{-\infty}^{+\infty}ke^{-\frac{i}{\hbar}pq}\big(ke^{\frac{i}{\hbar}p'q}\big)^*\,\dd q=
	\abs{k}^2\int_{-\infty}^{+\infty}e^{-\frac{i}{\hbar}(p-p')q}\,\dd q=\\=
	2\pi\abs{k}^2\delta\bigg(\frac{p-p'}{\hbar}\bigg)=
	2\pi\hbar\abs{k}^2\delta(p-p').
\end{multline}
Per trovare ancora la condizione di normalizzazione come nella \eqref{eq:normalizzazione-autostati-continui}, $\braket{p}{p'}=\delta(p-p')$, prendiamo $\abs{k}^2=\frac1{2\pi\hbar}$.
Dato che la fase è arbitraria, scegliamo dunque $k=\frac1{\sqrt{2\pi\hbar}}$ per cui
\begin{equation}
	\tilde{\psi}_A(p)=\frac1{\sqrt{2\pi\hbar}}\int_{-\infty}^{+\infty}e^{-\frac{i}{\hbar}pq}\psi_A(q)\,\dd q
	\label{eq:cambiamento-base-posizione-impulso}
\end{equation}
che è la trasformata di Fourier di $\psi_A(q)$, con un riscalamento delle variabili.

